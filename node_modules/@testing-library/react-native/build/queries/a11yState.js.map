{"version":3,"file":"a11yState.js","names":["queryAllByA11yState","instance","queryAllByA11yStateFn","matcher","findAll","node","type","matchAccessibilityState","buildErrorMessage","state","errors","accessibilityStateKeys","forEach","stateKey","undefined","push","join","getMultipleError","getMissingError","getBy","getAllBy","queryBy","queryAllBy","findBy","findAllBy","makeQueries","bindByA11yStateQueries","getByA11yState","getAllByA11yState","queryByA11yState","findByA11yState","findAllByA11yState","getByAccessibilityState","getAllByAccessibilityState","queryByAccessibilityState","queryAllByAccessibilityState","findByAccessibilityState","findAllByAccessibilityState"],"sources":["../../src/queries/a11yState.ts"],"sourcesContent":["import type { ReactTestInstance } from 'react-test-renderer';\nimport type { AccessibilityState } from 'react-native';\nimport { accessibilityStateKeys } from '../helpers/accessiblity';\nimport { matchAccessibilityState } from '../helpers/matchers/accessibilityState';\nimport { makeQueries } from './makeQueries';\nimport type {\n  FindAllByQuery,\n  FindByQuery,\n  GetAllByQuery,\n  GetByQuery,\n  QueryAllByQuery,\n  QueryByQuery,\n} from './makeQueries';\n\nconst queryAllByA11yState = (\n  instance: ReactTestInstance\n): ((matcher: AccessibilityState) => Array<ReactTestInstance>) =>\n  function queryAllByA11yStateFn(matcher) {\n    return instance.findAll(\n      (node) =>\n        typeof node.type === 'string' && matchAccessibilityState(node, matcher)\n    );\n  };\n\nconst buildErrorMessage = (state: AccessibilityState = {}) => {\n  const errors: string[] = [];\n\n  accessibilityStateKeys.forEach((stateKey) => {\n    if (state[stateKey] !== undefined) {\n      errors.push(`${stateKey} state: ${state[stateKey]}`);\n    }\n  });\n\n  return errors.join(', ');\n};\n\nconst getMultipleError = (state: AccessibilityState) =>\n  `Found multiple elements with ${buildErrorMessage(state)}`;\n\nconst getMissingError = (state: AccessibilityState) =>\n  `Unable to find an element with ${buildErrorMessage(state)}`;\n\nconst { getBy, getAllBy, queryBy, queryAllBy, findBy, findAllBy } = makeQueries(\n  queryAllByA11yState,\n  getMissingError,\n  getMultipleError\n);\n\nexport type ByA11yStateQueries = {\n  getByA11yState: GetByQuery<AccessibilityState>;\n  getAllByA11yState: GetAllByQuery<AccessibilityState>;\n  queryByA11yState: QueryByQuery<AccessibilityState>;\n  queryAllByA11yState: QueryAllByQuery<AccessibilityState>;\n  findByA11yState: FindByQuery<AccessibilityState>;\n  findAllByA11yState: FindAllByQuery<AccessibilityState>;\n\n  getByAccessibilityState: GetByQuery<AccessibilityState>;\n  getAllByAccessibilityState: GetAllByQuery<AccessibilityState>;\n  queryByAccessibilityState: QueryByQuery<AccessibilityState>;\n  queryAllByAccessibilityState: QueryAllByQuery<AccessibilityState>;\n  findByAccessibilityState: FindByQuery<AccessibilityState>;\n  findAllByAccessibilityState: FindAllByQuery<AccessibilityState>;\n};\n\nexport const bindByA11yStateQueries = (\n  instance: ReactTestInstance\n): ByA11yStateQueries => {\n  const getByA11yState = getBy(instance);\n  const getAllByA11yState = getAllBy(instance);\n  const queryByA11yState = queryBy(instance);\n  const queryAllByA11yState = queryAllBy(instance);\n  const findByA11yState = findBy(instance);\n  const findAllByA11yState = findAllBy(instance);\n\n  return {\n    getByA11yState,\n    getAllByA11yState,\n    queryByA11yState,\n    queryAllByA11yState,\n    findByA11yState,\n    findAllByA11yState,\n\n    getByAccessibilityState: getByA11yState,\n    getAllByAccessibilityState: getAllByA11yState,\n    queryByAccessibilityState: queryByA11yState,\n    queryAllByAccessibilityState: queryAllByA11yState,\n    findByAccessibilityState: findByA11yState,\n    findAllByAccessibilityState: findAllByA11yState,\n  };\n};\n"],"mappings":";;;;;;AAEA;AACA;AACA;AAUA,MAAMA,mBAAmB,GACvBC,QAA2B,IAE3B,SAASC,qBAAqB,CAACC,OAAO,EAAE;EACtC,OAAOF,QAAQ,CAACG,OAAO,CACpBC,IAAI,IACH,OAAOA,IAAI,CAACC,IAAI,KAAK,QAAQ,IAAI,IAAAC,2CAAuB,EAACF,IAAI,EAAEF,OAAO,CAAC,CAC1E;AACH,CAAC;AAEH,MAAMK,iBAAiB,GAAG,CAACC,KAAyB,GAAG,CAAC,CAAC,KAAK;EAC5D,MAAMC,MAAgB,GAAG,EAAE;EAE3BC,oCAAsB,CAACC,OAAO,CAAEC,QAAQ,IAAK;IAC3C,IAAIJ,KAAK,CAACI,QAAQ,CAAC,KAAKC,SAAS,EAAE;MACjCJ,MAAM,CAACK,IAAI,CAAE,GAAEF,QAAS,WAAUJ,KAAK,CAACI,QAAQ,CAAE,EAAC,CAAC;IACtD;EACF,CAAC,CAAC;EAEF,OAAOH,MAAM,CAACM,IAAI,CAAC,IAAI,CAAC;AAC1B,CAAC;AAED,MAAMC,gBAAgB,GAAIR,KAAyB,IAChD,gCAA+BD,iBAAiB,CAACC,KAAK,CAAE,EAAC;AAE5D,MAAMS,eAAe,GAAIT,KAAyB,IAC/C,kCAAiCD,iBAAiB,CAACC,KAAK,CAAE,EAAC;AAE9D,MAAM;EAAEU,KAAK;EAAEC,QAAQ;EAAEC,OAAO;EAAEC,UAAU;EAAEC,MAAM;EAAEC;AAAU,CAAC,GAAG,IAAAC,wBAAW,EAC7EzB,mBAAmB,EACnBkB,eAAe,EACfD,gBAAgB,CACjB;AAkBM,MAAMS,sBAAsB,GACjCzB,QAA2B,IACJ;EACvB,MAAM0B,cAAc,GAAGR,KAAK,CAAClB,QAAQ,CAAC;EACtC,MAAM2B,iBAAiB,GAAGR,QAAQ,CAACnB,QAAQ,CAAC;EAC5C,MAAM4B,gBAAgB,GAAGR,OAAO,CAACpB,QAAQ,CAAC;EAC1C,MAAMD,mBAAmB,GAAGsB,UAAU,CAACrB,QAAQ,CAAC;EAChD,MAAM6B,eAAe,GAAGP,MAAM,CAACtB,QAAQ,CAAC;EACxC,MAAM8B,kBAAkB,GAAGP,SAAS,CAACvB,QAAQ,CAAC;EAE9C,OAAO;IACL0B,cAAc;IACdC,iBAAiB;IACjBC,gBAAgB;IAChB7B,mBAAmB;IACnB8B,eAAe;IACfC,kBAAkB;IAElBC,uBAAuB,EAAEL,cAAc;IACvCM,0BAA0B,EAAEL,iBAAiB;IAC7CM,yBAAyB,EAAEL,gBAAgB;IAC3CM,4BAA4B,EAAEnC,mBAAmB;IACjDoC,wBAAwB,EAAEN,eAAe;IACzCO,2BAA2B,EAAEN;EAC/B,CAAC;AACH,CAAC;AAAC"}